# 2026-02-13

## Bun & qmd Installation

### Installed Tools
- **Bun**: v1.3.9 installed via official installer (curl script)
  - Location: ~/.bun/bin/bun
  - Added to PATH in ~/.zshrc

- **qmd**: Installed from source code
  - Repo: https://github.com/tobi/qmd
  - Build: Installed dependencies via `bun install`, then `bun link`
  - Location: /opt/homebrew/bin/qmd (symlink to ~/.bun/bin/qmd)
  - Database: ~/.cache/qmd/index.sqlite

### qmd Configuration
Collections created:
1. `memory` - /Users/ludi/clawd/memory/ with pattern **/*.md (1 file)
2. `workspace` - /Users/ludi/clawd/ with pattern MEMORY.md (1 file)

Embeddings:
- Model: embeddinggemma-300M-Q8_0.gguf (328MB)
- Status: Embedded 4 chunks from 2 documents
- Location: ~/.cache/qmd/models/

### OpenClaw Config
```yaml
memory:
  backend: "qmd"
```

## User Questions & Understanding

### RAG vs qmd
- RAG is an architecture pattern (Retrieval-Augmented Generation)
- qmd is a tool that implements retrieval (indexing + embeddings + search)
- qmd provides: document indexing, vector embeddings, semantic search (vsearch), full-text search (search), and hybrid search (query)

### qmd Search Scope
- Search scope is defined via "collections" stored in qmd's SQLite database
- Each collection has a path and a file pattern (mask)
- Commands:
  - `qmd collection add <path> --name <name> --mask <pattern>`
  - `qmd collection list`
  - `qmd collection remove <name>`
  - `qmd ls <collection>/`
  - `qmd update` - re-index collections
  - `qmd embed` - generate embeddings

### Future Plans
User wants to consolidate knowledge into `knowledge/` folder:
- Move docs/, scripts/, tasks/ into knowledge/
- Add knowledge/ to qmd search scope
- This would make all docs, scripts, and tasks searchable via semantic search

## Installation Issues Encountered

1. `bun install -g https://github.com/tobi/qmd` failed with zod dependency conflicts
2. Solution: Cloned repo, built locally, then `bun link`
3. Initial `bun install` had integrity check failures, resolved with `--force`
4. git clone failed once (network issue), succeeded on retry

## Cron Jobs Status
- Previous cron job (daily-memory-cleanup) was deleted
- 3 new cron jobs created:
  - Hourly Micro-Sync at 10:00, 13:00, 16:00, 19:00, 22:00
  - Daily Memory Sync at 23:00
  - Weekly Memory Compound on Sundays at 22:00
